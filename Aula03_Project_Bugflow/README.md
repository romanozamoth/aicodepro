# BugFlow Multi Agents - Sistema Inteligente de Triagem de Bugs e Incidentes
https://github.com/cienciadosdados/bugflow/blob/main/README.md
https://www.mermaidchart.com/raw/34f78ac0-500c-470a-b54c-57808990a352?theme=light&version=v0.1&format=svg


![Logo do Projeto](https://i.imgur.com/1QgrNNf.png)

## üìã √çndice

- [Sobre o Projeto](#sobre-o-projeto)
- [Arquitetura do Sistema](#arquitetura-do-sistema)
- [Requisitos](#requisitos)
- [Configura√ß√£o Passo a Passo](#configura√ß√£o-passo-a-passo)
- [Como Executar](#como-executar)
- [Componentes Detalhados](#componentes-detalhados)
- [Solu√ß√£o de Problemas](#solu√ß√£o-de-problemas)
- [Exemplos de Uso](#exemplos-de-uso)
- [FAQ](#faq)

## üìñ Sobre o Projeto

O BugFlow Multi Agents √© um sistema inteligente de triagem de bugs e incidentes que utiliza m√∫ltiplos agentes de IA especializados trabalhando em conjunto para automatizar o processamento de problemas t√©cnicos em desenvolvimento de software. O sistema √© capaz de:

- **Classificar bugs** por componente afetado (Frontend, Backend, Database, DevOps, Security, Integration, UI/UX, Infrastructure)
- **Definir severidade** (Critico, Grave, Menor)
- **Realizar an√°lise t√©cnica** detalhada com sugest√µes de causas e solu√ß√µes
- **Gerenciar o fluxo** de resolu√ß√£o e atribui√ß√£o a desenvolvedores
- **Gerar documenta√ß√£o** completa do bug e da solu√ß√£o em formato Markdown e HTML com diagramas Mermaid

Os agentes trabalham de forma colaborativa, como uma equipe real de desenvolvimento, para processar e resolver bugs com efici√™ncia e precis√£o, permitindo que os programadores foquem em tarefas de maior valor.

## üèóÔ∏è Arquitetura do Sistema

### Diagrama de Fluxo

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                 ‚îÇ     ‚îÇ                                                      ‚îÇ
‚îÇ  Banco de Dados ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚î§                  Sistema de Agentes                  ‚îÇ
‚îÇ   (Neon DB)     ‚îÇ     ‚îÇ                                                      ‚îÇ
‚îÇ                 ‚îÇ     ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ  ‚îÇ         ‚îÇ   ‚îÇ         ‚îÇ   ‚îÇ         ‚îÇ   ‚îÇ     ‚îÇ  ‚îÇ
         ‚îÇ              ‚îÇ  ‚îÇ  AG1:   ‚îÇ   ‚îÇ  AG2:   ‚îÇ   ‚îÇ  AG3:   ‚îÇ   ‚îÇ     ‚îÇ  ‚îÇ
         ‚îÇ              ‚îÇ  ‚îÇ Classi- ‚îÇ   ‚îÇ Classi- ‚îÇ   ‚îÇ An√°lise ‚îÇ   ‚îÇ ... ‚îÇ  ‚îÇ
         ‚îÇ              ‚îÇ  ‚îÇ ficador ‚îÇ‚îÄ‚îÄ‚ñ∫‚îÇ ficador ‚îÇ‚îÄ‚îÄ‚ñ∫‚îÇ T√©cnica ‚îÇ‚îÄ‚îÄ‚ñ∫‚îÇ     ‚îÇ  ‚îÇ
         ‚îÇ              ‚îÇ  ‚îÇ  Setor  ‚îÇ   ‚îÇ Priori- ‚îÇ   ‚îÇ         ‚îÇ   ‚îÇ     ‚îÇ  ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ  ‚îÇ         ‚îÇ   ‚îÇ  dade   ‚îÇ   ‚îÇ         ‚îÇ   ‚îÇ     ‚îÇ  ‚îÇ
‚îÇ                 ‚îÇ     ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ    Pinecone     ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚î§                                                      ‚îÇ
‚îÇ (Vector Store)  ‚îÇ     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Fluxo de Processamento

1. O sistema obt√©m bugs e incidentes abertos do banco de dados Neon
2. Cada bug passa por uma sequ√™ncia de agentes especializados:
   - **AG1**: Classifica o bug por componente afetado (API, Database, UI, etc.)
   - **AG2**: Define a severidade do bug (Cr√≠tico, Grave, Menor)
   - **AG3**: Realiza an√°lise t√©cnica detalhada e sugere poss√≠veis causas
   - **AG4**: Gerencia o fluxo de resolu√ß√£o e atribui√ß√£o a desenvolvedores
   - **AG5**: Gera documenta√ß√£o completa do bug e da solu√ß√£o
3. Os resultados de cada etapa s√£o armazenados no banco de dados
4. Os vetores de embeddings s√£o armazenados no Pinecone para busca sem√¢ntica de bugs similares

## üõ†Ô∏è Requisitos

### Servi√ßos Externos

- Conta na [OpenAI](https://platform.openai.com) (para acesso aos modelos GPT)
- Conta no [Neon DB](https://neon.tech) (banco de dados PostgreSQL serverless)
- Conta no [Pinecone](https://www.pinecone.io) (armazenamento de vetores)

### Requisitos T√©cnicos

- Python 3.9+
- Ambiente virtual (venv)
- Depend√™ncias listadas em `requirements.txt`

## üöÄ Configura√ß√£o Passo a Passo

### 1. Prepara√ß√£o do Ambiente Local


```

#### 1.2. Configure o Ambiente Virtual

**Windows:**
```powershell
# Criar ambiente virtual
python -m venv .venv

# Ativar ambiente virtual
.venv\Scripts\Activate.ps1

# Instalar depend√™ncias
uv pip install --system -r requirements.txt
```

**Linux/Mac:**
```bash
# Criar ambiente virtual
python -m venv .venv

# Ativar ambiente virtual
source .venv/bin/activate

# Instalar depend√™ncias
uv pip install --system -r requirements.txt
```

### 2. Configura√ß√£o dos Servi√ßos Externos

#### 2.1. Configura√ß√£o do Neon DB

1. **Criar uma Conta no Neon DB**
   - Acesse [https://neon.tech](https://neon.tech)
   - Registre-se para uma nova conta
   - Fa√ßa login na sua conta

2. **Criar um Novo Projeto**
   - No painel do Neon, clique em "New Project"
   - D√™ um nome ao projeto (ex: "ai-hackagents")
   - Selecione uma regi√£o pr√≥xima √† sua localiza√ß√£o

   ![Neon DB - Criar Projeto](https://i.imgur.com/lM8T1JD.png)

3. **Obter a URL de Conex√£o**
   - Ap√≥s a cria√ß√£o do projeto, clique em "Connection Details"
   - Selecione "Connection String"
   - Copie a string de conex√£o completa

   ![Neon DB - Connection String](https://i.imgur.com/6rjDGLP.png)

#### 2.2. Configura√ß√£o do Pinecone

1. **Criar uma Conta no Pinecone**
   - Acesse [https://www.pinecone.io](https://www.pinecone.io)
   - Registre-se para uma nova conta
   - Fa√ßa login na sua conta

2. **Criar um Novo √çndice**
   - No painel do Pinecone, clique em "Create Index"
   - Preencha os campos:
     - **Nome do √≠ndice**: "bugflow"
     - **Dimens√£o**: 1536 (para embeddings da OpenAI)
     - **M√©trica**: "cosine"
     - **Ambiente**: "us-east-1"

   ![Pinecone - Criar √çndice](https://i.imgur.com/sB5XE6e.png)

3. **Obter a API Key**
   - No painel do Pinecone, v√° para "API Keys"
   - Copie a API Key

   ![Pinecone - API Key](https://i.imgur.com/PRTUM58.png)

#### 2.3. Configura√ß√£o da OpenAI

1. **Obter uma API Key da OpenAI**
   - Acesse [https://platform.openai.com](https://platform.openai.com)
   - Crie uma conta ou fa√ßa login
   - V√° para "API Keys"
   - Clique em "Create new secret key"
   - D√™ um nome √† chave e copie-a

   ![OpenAI - API Key](https://i.imgur.com/DIdQNdh.png)

### 3. Configura√ß√£o do Projeto

#### 3.1. Criar o Arquivo .env

Crie um arquivo `.env` na raiz do projeto com o seguinte conte√∫do:

```
OPENAI_API_KEY=sua_chave_da_openai
PINECONE_API_KEY=sua_chave_do_pinecone
NEON_DB_URL=sua_url_do_neon_db
OPENAI_API_BASE=https://api.openai.com/v1
```

Substitua os valores pelos que voc√™ obteve nas etapas anteriores.

### 4. Prepara√ß√£o do Banco de Dados

#### 4.1. Criar e Popular o Banco de Dados

Execute o script de cria√ß√£o e popula√ß√£o do banco de dados:

```powershell
python tools/code_popular_neon.py
```

Este script ir√°:
- Conectar-se ao seu banco Neon DB
- Criar a tabela de chamados
- Inserir chamados de exemplo

> **Nota:** Certifique-se de que a conex√£o com o Neon DB est√° funcionando corretamente. Verifique os logs para confirmar que os chamados foram inseridos com sucesso.

#### 4.2. Criar as Tabelas Adicionais

O SQL para criar as tabelas est√° no arquivo `tools/neon_chamados.sql`. Voc√™ pode executar esses comandos diretamente no editor SQL do Neon DB, ou usar um cliente PostgreSQL como o psql:

```bash
psql "sua_url_do_neon_db" -f tools/neon_chamados.sql
```

Isso criar√° todas as tabelas necess√°rias para o sistema:
- `chamados`: Armazena os chamados iniciais
- `classificacao_setor`: Armazena a classifica√ß√£o por setor
- `classificacao_prioridade`: Armazena a classifica√ß√£o por prioridade
- `analise_tecnica`: Armazena a an√°lise t√©cnica detalhada
- `andamento_chamados`: Armazena o andamento dos chamados
- `relatorio_final`: Armazena os relat√≥rios finais

### 5. Configura√ß√£o do Pinecone

Execute o script para configurar o Pinecone:

```powershell
python tools/code_popular_pinecone.py
```

Este script ir√°:
- Conectar-se ao seu √≠ndice no Pinecone
- Configurar os embeddings iniciais para os chamados

## ‚ñ∂Ô∏è Como Executar

H√° duas maneiras principais de usar o sistema:

### Op√ß√£o 1: Processar Todos os Bugs Abertos

```powershell
python agents/crewai_agents.py
```

Este comando processar√° todos os bugs com status "Aberto" no banco de dados e gerar√° relat√≥rios em Markdown e HTML para cada um.

### Op√ß√£o 2: Reprocessar um Bug Espec√≠fico

```powershell
# Primeiro, reabra o bug espec√≠fico (por exemplo, o bug com ID 1)
python tools/reprocessar_bug.py 1

# Em seguida, processe o bug reaberto
python agents/crewai_agents.py
```

Isso permite testar o sistema com bugs espec√≠ficos sem precisar processar todos os bugs novamente.

## üß© Componentes Detalhados

### Agentes e suas Fun√ß√µes

#### AG1: Classificador de Componente
- **Fun√ß√£o**: Analisa o bug e identifica o componente de software afetado
- **Comportamento**: Examina o conte√∫do e classifica em Frontend, Backend, Database, DevOps, Security, Integration, UI/UX ou Infrastructure
- **Resultado**: Componente afetado + justificativa detalhada da classifica√ß√£o

#### AG2: Classificador de Severidade
- **Fun√ß√£o**: Define a severidade do bug
- **Comportamento**: Avalia o impacto t√©cnico e de neg√≥cio para classificar como Critico, Grave ou Menor
- **Resultado**: N√≠vel de severidade + justificativa detalhada

#### AG3: Analista T√©cnico
- **Fun√ß√£o**: Fornece an√°lise t√©cnica detalhada do bug
- **Comportamento**: Identifica a causa raiz, avalia o impacto t√©cnico e prop√µe solu√ß√µes vi√°veis
- **Resultado**: An√°lise t√©cnica estruturada com causa raiz, impacto e solu√ß√µes propostas

#### AG4: Gerenciador de Resolu√ß√£o
- **Fun√ß√£o**: Coordena o processo de resolu√ß√£o do bug
- **Comportamento**: Define respons√°veis, prazos e prioridades com base nas classifica√ß√µes anteriores
- **Resultado**: Plano de a√ß√£o detalhado com respons√°vel, prazo e status de andamento

#### AG5: Documentador de Bugs
- **Fun√ß√£o**: Cria documenta√ß√£o estruturada do bug
- **Comportamento**: Integra todas as informa√ß√µes em formatos Markdown e HTML com diagramas Mermaid
- **Resultado**: Relat√≥rios completos em m√∫ltiplos formatos salvos como arquivos locais (`bug_X_relatorio.md` e `bug_X_relatorio.html`)

### Arquitetura de Bancos de Dados

#### Banco de Dados Relacional (Neon DB)

```
‚îà‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îà       ‚îà‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îà       ‚îà‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îà
‚îÇ             ‚îÇ       ‚îÇ                     ‚îÇ       ‚îÇ                        ‚îÇ
‚îÇ    bugs     ‚îÇ‚îÄ‚îÄ‚îà    ‚îÇ classificacao_componente ‚îÇ       ‚îÇ classificacao_severidade‚îÇ
‚îÇ             ‚îÇ  ‚îÇ    ‚îÇ                     ‚îÇ       ‚îÇ                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÄ‚îÄ‚îò
                 ‚îÇ                 ‚ñ≤                              ‚ñ≤
                 ‚îÇ                 ‚îÇ                              ‚îÇ
                 ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                   ‚îÇ
                                   ‚îÇ
                 ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                 ‚îÇ                ‚îÇ‚îÇ‚îÇ‚îÇ                ‚îÇ    ‚îÇ              ‚îÇ
                 ‚îÇanalise_tecnica ‚îÇ‚îÇ‚îÇ‚îÇandamento_chamados   ‚îÇrelatorio_final
                 ‚îÇ                ‚îÇ‚îÇ‚îÇ‚îÇ                ‚îÇ    ‚îÇ              ‚îÇ
                 ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                   ‚îÇ                              ‚ñ≤
                                   ‚îÇ                              ‚îÇ
                                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### Banco de Vetores (Pinecone)
- Armazena embeddings de bugs para busca sem√¢ntica
- Permite encontrar bugs similares rapidamente
- Utiliza embeddings da OpenAI para representa√ß√£o vetorial

### Fluxo dos Dados

```
‚îà‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îà     ‚îà‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îà     ‚îà‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îà     ‚îà‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îà
‚îÇ    Bug      ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ          ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ          ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ          ‚îÇ
‚îÇ  Reportado  ‚îÇ     ‚îÇ   AG1    ‚îÇ     ‚îÇ   AG2    ‚îÇ     ‚îÇ   AG3    ‚îÇ
‚îÇ             ‚îÇ     ‚îÇ          ‚îÇ     ‚îÇ          ‚îÇ     ‚îÇ          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                     Classificar      Definir          An√°lise
                     Componente      Severidade        T√©cnica
                         ‚îÇ               ‚îÇ                ‚îÇ
                         ‚ñº               ‚ñº                ‚ñº
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ                                         ‚îÇ
                    ‚îÇ               Banco de                  ‚îÇ
                    ‚îÇ                Dados                    ‚îÇ
                    ‚îÇ                                         ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚ñ≤                ‚ñ≤
                              ‚îÇ                ‚îÇ
                      ‚îà‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îà      ‚îà‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îà
                      ‚îÇ            ‚îÇ      ‚îÇ             ‚îÇ
                      ‚îÇ    AG4     ‚îÇ      ‚îÇ    AG5      ‚îÇ
                      ‚îÇ            ‚îÇ      ‚îÇ             ‚îÇ
                      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                       Gerenciar          Documentar
                       Resolu√ß√£o             Bug
```

## üîß Solu√ß√£o de Problemas

### Problemas com a Conex√£o ao Neon DB

**Sintoma**: Erros como "could not connect to server" ou "timeout expired"

**Solu√ß√£o**:
1. Verifique se a string de conex√£o est√° correta no arquivo .env
2. Certifique-se de que seu IP est√° permitido no firewall do Neon DB
3. Verifique se o banco de dados est√° ativo (n√£o em modo suspenso)

### Problemas com a API da OpenAI

**Sintoma**: Erros como "API key invalid" ou "Rate limit exceeded"

**Solu√ß√£o**:
1. Verifique se a API key est√° correta no arquivo .env
2. Verifique se h√° cr√©ditos dispon√≠veis na sua conta
3. Implemente backoff exponencial para lidar com limites de taxa

### Problemas com o Pinecone

**Sintoma**: Erros ao conectar ou ao realizar opera√ß√µes no √≠ndice

**Solu√ß√£o**:
1. Verifique se a API key est√° correta
2. Confirme se o nome do √≠ndice est√° correto (deve ser "bugflow")
3. Verifique se o √≠ndice est√° ativo e configurado com a dimens√£o correta (1536)

## üìä Exemplos de Uso

### Exemplo de Bug Processado

#### Entrada: Bug Original
```
"Erro 500 na API de autentica√ß√£o ap√≥s atualiza√ß√£o. Ocorre apenas ap√≥s o √∫ltimo deploy."
```

#### Processamento por Agentes

**AG1: Classificador de Componente**
```
Backend - O problema est√° relacionado √† API de autentica√ß√£o, que √© um componente de backend do sistema.
```

**AG2: Classificador de Severidade**
```
Critico - Um erro 500 na API de autentica√ß√£o impede os usu√°rios de acessar o sistema, bloqueando funcionalidades essenciais.
```

**AG3: Analista T√©cnico**
```
Causa Raiz: Incompatibilidade entre a vers√£o atualizada da API e a configura√ß√£o do servidor.
Impacto: Falha na autentica√ß√£o de usu√°rios, impedindo acesso ao sistema.
Solu√ß√£o: Reverter para a vers√£o anterior ou corrigir a configura√ß√£o do servidor para compatibilidade.
```

**AG4: Gerenciador de Resolu√ß√£o**
```
Status: Em desenvolvimento
Respons√°vel: Jo√£o Silva
Prazo: 2 dias
Prioridade: Alta - Bloqueia acesso ao sistema
```

**AG5: Documentador de Bugs**
```markdown
# Bug #1234 - Erro 500 na API de Autentica√ß√£o ap√≥s Atualiza√ß√£o

## Descri√ß√£o
O sistema apresenta erro 500 na API de autentica√ß√£o ap√≥s a √∫ltima atualiza√ß√£o, impedindo que os usu√°rios fa√ßam login no sistema.

## Componente Afetado
Backend - O problema est√° relacionado √† API de autentica√ß√£o, que √© um componente de backend do sistema.

## Severidade
Critico - Este erro impede o acesso ao sistema, bloqueando completamente a utiliza√ß√£o por parte dos usu√°rios.

## An√°lise T√©cnica
- Causa Raiz: Incompatibilidade entre a vers√£o atualizada da API e a configura√ß√£o do servidor.
- Impacto: Falha na autentica√ß√£o de usu√°rios, impedindo acesso ao sistema.
- Solu√ß√£o: Reverter para a vers√£o anterior ou corrigir a configura√ß√£o do servidor para compatibilidade.

## Resolu√ß√£o
- Desenvolvedor: Jo√£o Silva
- Prazo: 2 dias
- Status: Em desenvolvimento

## Li√ß√µes Aprendidas
Implementar testes de integra√ß√£o mais abrangentes antes de realizar deploys em produ√ß√£o e estabelecer um processo de rollback autom√°tico em caso de falhas cr√≠ticas.
```

Al√©m do relat√≥rio em Markdown, o sistema tamb√©m gera um relat√≥rio em HTML com um diagrama Mermaid interativo mostrando o fluxo de resolu√ß√£o do bug.

## ‚ùì FAQ

### Posso usar outros modelos al√©m do GPT-4?

Sim, voc√™ pode configurar outros modelos no arquivo de agentes. Para isso, altere o par√¢metro `model` na configura√ß√£o do LLM:

```python
llm = ChatOpenAI(
    api_key=OPENAI_API_KEY,
    base_url=OPENAI_API_BASE,
    model="gpt-4o-mini",  # Altere para o modelo desejado
    temperature=0.7
)
```

### Como adicionar novos agentes ao sistema?

Para adicionar um novo agente:

1. Defina o agente no arquivo `agents/crewai_agents.py`:
```python
AG6 = Agent(
    name="Nome do Agente",
    role="Papel do Agente",
    goal="Objetivo do Agente",
    backstory="Hist√≥ria e comportamento do agente",
    llm=llm
)
```

2. Crie uma tarefa para o agente:
```python
Task_AG6 = Task(
    description="Descri√ß√£o da tarefa",
    expected_output="Formato esperado de sa√≠da",
    agent=AG6
)
```

3. Adicione o agente √† equipe:
```python
crew = Crew(
    agents=[AG1, AG2, AG3, AG4, AG5, AG6],  # Adicione o novo agente
    tasks=[Task_AG1, Task_AG2, Task_AG3, Task_AG4, Task_AG5, Task_AG6],  # Adicione a nova tarefa
    verbose=True,
    max_iter=15,
    memory=True
)
```

### Como personalizar as classifica√ß√µes de componentes?

Para alterar os componentes dispon√≠veis, voc√™ precisa modificar:

1. O backstory do AG1 (Classificador de Componente):

```python
backstory="""Especialista em triagem de bugs para diferentes componentes de software.
Analiso o conte√∫do do bug report e classifico baseado nas seguintes regras:
- Frontend: Problemas de UI, renderiza√ß√£o, JavaScript, CSS, responsividade
- Backend: Problemas em APIs, processamento de dados, l√≥gica de neg√≥cio
- Database: Problemas com banco de dados, queries, inconsist√™ncias
[adicione ou modifique outros componentes conforme necess√°rio]"""
```

2. A fun√ß√£o de normaliza√ß√£o de componentes:

```python
def normalizar_componente(componente):
    # Valores permitidos exatos conforme a restri√ß√£o CHECK na tabela
    valores_permitidos = ['Frontend', 'Backend', 'Database', 'DevOps', 'Security', 'Integration', 'UI/UX', 'Infrastructure']
    # Adicione ou modifique os valores permitidos conforme necess√°rio
```

3. A restri√ß√£o CHECK na tabela `classificacao_setor` no banco de dados:

```sql
CREATE TABLE classificacao_setor (
    id SERIAL PRIMARY KEY,
    chamado_id INT REFERENCES bugs(id),
    setor VARCHAR(50) NOT NULL CHECK (setor IN ('Frontend', 'Backend', 'Database', 'DevOps', 'Security', 'Integration', 'UI/UX', 'Infrastructure')),
    data_classificacao TIMESTAMP DEFAULT NOW()
);
```

---

## üìú Licen√ßa

[MIT License](LICENSE) - Sinta-se livre para usar, modificar e distribuir conforme as regras da licen√ßa.

## üõ†Ô∏è Melhorias Recentes

1. **Normaliza√ß√£o Robusta de Dados**: Implementa√ß√£o de fun√ß√µes de normaliza√ß√£o para garantir que os valores gerados pelos agentes estejam em conformidade com as restri√ß√µes do banco de dados.

2. **Persist√™ncia Redundante**: Os relat√≥rios agora s√£o salvos tanto no banco de dados quanto como arquivos locais, garantindo que os dados n√£o sejam perdidos mesmo em caso de problemas com o banco de dados.

3. **Tratamento de Erros Aprimorado**: Cada opera√ß√£o de banco de dados agora tem seu pr√≥prio tratamento de erros, permitindo que o sistema continue funcionando mesmo se uma parte falhar.

4. **Documenta√ß√£o Visual**: Adi√ß√£o de diagramas Mermaid interativos nos relat√≥rios HTML para melhor visualiza√ß√£o do fluxo de resolu√ß√£o de bugs.

## üìÆ Contato

Para d√∫vidas ou sugest√µes, entre em contato atrav√©s de [email@exemplo.com](mailto:email@exemplo.com).
